---
title: 数据链路层
tags:
  - 数据链路层
  - 计算机网络
categories:
  - 计算机网络
date: 2017-07-18 10:22:15
---

### 主要内容
1. 点对点信道和广播信道的特点，以及两种信道使用的协议（PPP和CSMA/CD）。
2. 数据链路层的三个基本问题：封装成帧、透明传输和差错检测。
3. 以太网MAC层的硬件地址。
4. 适配器、转发器、集线器、网桥、以太网交换机的作用和使用场合。
<!-- more -->
### 使用点对点信道的数据链路层
1. 数据链路和帧
2. 三个基本问题
    1. 封装成帧：在数据前后分别添加首部和尾部，
    2. 透明传输
    3. 差错检测
### 点对点协议PPP
1. PPP协议的特点
    1. 简单：接收方没收到一个帧，就进行CRC检验，如果CRC检验正确，就收下这个帧，反之，就丢弃这个帧，其他什么都不做。
    2. 封装成帧，规定特殊的字符作为帧定界符，以便接收端从收到的比特流中能准确地找出帧的开始和结束位置。
    3. 透明性，如果数据中碰巧出现了和帧定界符一样的比特组合时，就要采取有效的措施来解决这个问题。
    4. 多种网络层协议，能够在同一条物理链路上同时支持多种网络层协议的运行。
    5. 多种类型链路，能够在多种类型的链路上运行。
    6. 差错检测，能够对接收端收到的帧进行检测，并立即丢弃有差错的帧。
    7. 检测连接状态，能够及时自动检测出链路是否处于正常工作状态。
    8. 最大传输单元，对每一种类型的点对点链路设置最大传送单元MTU的标准默认值，促进各种实现之间的互操作性。MTU是数据链路层的帧可以载荷的数据部分的最大长度，而不是帧的总长度。
    9. 网络层地址协商，是通信的两个网络层的实体能够通过协商知道或能够配置彼此的网络层地址。
    10. 数据压缩协商，提供一种方法来协商使用数据压缩算法。
    11. PPP协议不支持多点线路（即一个主站轮流和链路上的多个从站进行通信），而只支持点对点的链路通信。此外，PPP协议只支持全双工通信。
2. PPP协议的组成（三个组成部分）
    1. 将IP数据报封装到串行链路的方法。
    2. 建立、配置和测试数据链路连接的链路控制协议LCP。
    3. 网络控制协议NCP
3. PPP协议的帧格式
    1. 各字段的意义
        1. PPP帧的首部和尾部分别为四个字段和两个字段。首部的第一个字段和尾部的第二个字段都是标志F，规定为0x7E，标志字段表示一个帧的开始或结束。因此标志字段是PPP帧的定界符。连续两帧之间只需要用一个标志字段，如果出现连续两个标志字段，就表示一个空帧，应当丢弃。
        2. 信息字段的长度是可变的，不超过1500字节。
        3. 尾部中的第一个字段是使用CRC的帧检验序列FCS。
    2. 字节填充
        1. 把信息字段中出现的每一个0x7E字节转变成为2字节序列(0x7D,0x5E)
        2. 若信息字段中出现一个0X7D的字节。则吧0x7D转变为2字节序列(0x7D,0x5D)
        3. 若信息字段中出现ASCII码的控制字符，则在该字符前面加入一个0x7D字节，同时将该字符的编码加以改变。
    3. 零比特填充
4. PPP协议的工作状态
### 使用广播信道的数据链路层
1. 局域网的数据链路层
    1. 局域网的特点
        1. 具有广播功能，从一个站点可以很方便地访问全网
        2. 便于系统的扩展和逐渐演变，各设备的位置可灵活调整和改变
        3. 提高了系统的可靠性、可用性和生存性
    2. 共享信道的实现
        1. 静态划分信道
        2. 动态媒体接入控制
            1. 随机接入（以太网采用的是随机接入）
            2. 受控接入
    3. 以太网的两个标准
    4. 适配器的作用
2. CSMA/CD协议（载波监听多点接入/碰撞检测）
    1. 多点接入
    2. 载波监听
    3. 碰撞检测
3. 使用集线器的星形拓扑
    1. 使用集线器的以太网在逻辑仍是一个总线网，各站共享逻辑上的总线，使用的还是CSMA/CD协议。网络中的各站必须竞争对传输媒体的控制，并且在同一时刻至多只允许一个站发送数据。
    2. 一个集线器有许多接口，很像一个多接口的转发器。
    3. 集线器工作在物理层，它的每个接口仅仅简单地转发比特。
    4. 集线器采用了专门的芯片，进行自适应串音回波抵消。