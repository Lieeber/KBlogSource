---
title: 排序
tags:
  - 排序
  - 数据结构
categories:
  - 数据结构
date: 2017-06-18 21:22:15
---

* 定义
    * 将杂乱无章的数据元素，通过一定的方法按关键字顺序排列的过程叫做排序。（来自百度百科）
* 排序的稳定性
    * 假定在待排序的记录序列中，存在多个具有相同的关键字的记录，若经过排序，这些记录的相对次序保持不变，即在原序列中，ri=rj，且ri在rj之前，而在排序后的序列中，ri仍在rj之前，则称这种排序算法是稳定的；否则称为不稳定的。
<!-- more -->
* 内排序与外排序
    * 内排序是在排序整个过程中，待排序的所有记录全部被放置在内存中。
    * 外排序是由于排序的记录个数太多，不能同时放置在内存，整个排序的过程需要在内外存之间多次交换数据才行。
* 内排序排序算法的性能
    * 时间性能
        * 尽量减少关键字比较次数和记录移动次数。
    * 辅助空间
        * 除了存放待排序所占用的存储空间外，还包括执行算法所需要的其他存储空间。
    * 算法的复杂性
* 七种排序算法
    * 简单算法：冒泡排序，简单选择排序，直接插入排序。
    * 改进算法：希尔排序，堆排序，归并排序，快速排序。
* 冒泡排序
    * 两两比较相邻记录的关键字，如果反序则交换，直到没有反序的记录为止。
    * 最简单的排序时间是两个for循环正向遍历，不符合两两比较的原则；冒泡排序是大循环正向，内循环从后往前遍历，在不断遍历过程中，除了将目标关键字排好序之外，其他关键字也会同时前移，效率会提高不少。
    * 冒泡排序算法的优化：排序过程中添加标记flag，如果一次循环中，没有交换元素，证明已经排序好了，避免不必要的遍历。
    * 时间复杂度分析：
        * 最优情况：遍历n-1次
        * 最坏情况：遍历1 + 2 + 3 + (n - 1 ) = n(n - 1)/2次
        * 时间复杂度为O(n2)
* 简单选择排序
    * 通过 n - i 次关键字间的比较，从n - i + 1个记录中选出关键字最小的记录，并与第 i 个记录交换之。
    *  时间复杂度分析：无论最好还是最差的情况，比较的次数都是一样多。比较的次数为 n(n - 1)/2，但是交换的次数只有 n - 1 次，最终的排序时间是基于比较和交换次数总和，时间复杂度为O(n2)；性能优于冒泡排序。
* 直接插入排序
    * 将一个记录插入到已经排好序的列表中，从而得到一个新的、记录数增1的有序表。
    * 时间复杂度分析：空间上，只需要一个记录的辅助空间。时间复杂度，最好情况为O(n)，最坏的情况，需要比较2 + 3 + ... + n = (n + 2)(n - 1)/2 次，记录的移动次数为3 + ... + n + 1 = (n + 4)(n - 1)/2次。 平均移动和比较的次数为n2/4次。时间复杂度为O(n2)，但是性能要优于冒泡排序和简单选择排序。
* 希尔排序
    * 把记录按下标的一定增量分组，对每组使用直接插入排序算法排序；随着增量逐渐减少，每组包含的关键词越来越多，当增量减至1时，整个文件恰被分成一组，算法便终止。
    * 复杂度分析：时间复杂度为O(n3/2)。
    * 增量序列的最后一个增量值必须等于1才行；另外由于记录是跳跃式的移动，希尔排序并不是稳定的排序算法。
* 堆排序
    * 堆是具有下列性质的完全二叉树：每个结点的值都大于或等于其左右孩子结点的值，称为大顶堆；或者每个结点的值都小于或等于其左右孩子结点的值，称为小顶堆。
    * 堆排序就是利用堆进行排序的方法。基本思想是，将待排序的序列构造成一个大顶堆，此时，整个序列的最大值就是堆顶的根结点，将其与堆数组的末尾元素交换，然后将剩余的n-1个序列重新构造成一个堆，用同样的方法取得n个元素的次小值，重复执行以上步骤，便可以得到一个有序序列。
    * 复杂度分析：整个构建堆的时间复杂度是O(n)，第i次重建堆时间复杂度为O(logi)，所有重建堆的时间复杂度为O(nlogn)，总体来说，时间复杂度为O(nlogn)。最好，最坏和评价的时间复杂度都是一样；初始构建堆所需要比较的次数多，不适合排序序列个数较少的情况。
* 归并排序
    * 时间复杂度为O(nlogn)。是稳定的排序算法。
* 快速排序
    * ![](https://ws1.sinaimg.cn/large/5cc1a78ely1fsokuz8dm1j20ws0yidk9.jpg)
* 几种排序算法的比较
    * ![](https://ws1.sinaimg.cn/large/5cc1a78ely1fsokv96z52j20my06s0tr.jpg)